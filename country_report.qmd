---
title: "Country Report"
author: "Keith Galli"
echo: False
error: False
warning: False
engine: jupyter
format:
    typst:
        template-partials: 
            - typst-show.typ
            - typst-template.typ
            
country_code: "BGR"
---
```{python}
#| tags: [parameters]
country_code = 'BGR'
zoom = 1.75
```

```{python}
COLOR = "#192f5d"
COUNTRY_CODE = country_code
```

```{python}
from helpers import plot_country

plot_country(COUNTRY_CODE, zoom_factor=zoom, color=COLOR)  # For United States
```

```{=typst}
#v(-20pt)
```

:::: {layout="[0.33, 0.66]"}

::: {#firstcol}

---

```{python}
from helpers import highlight_text, get_total_population

population = get_total_population(COUNTRY_CODE)
highlight_text(f"{population:,}", 'Population', color=COLOR)
```
---

```{python}
from helpers import gender_ratio

gender_ratio(COUNTRY_CODE, color=COLOR)
```

---
```{python}
from helpers import highlight_text, get_median_age

age = get_median_age(COUNTRY_CODE)

highlight_text(str(age), 'Median Age', color=COLOR)
```

---
```{python}
from helpers import highlight_text, get_life_expectancy

life_expectancy = get_life_expectancy(COUNTRY_CODE)

highlight_text(str(life_expectancy), 'Life Expectancy', color=COLOR)
```

:::

::: {#secondcol}

```{python}
#| echo: false
#| fig-align: left
#| fig-width: 1
#| fig-cap: "Population over time"
from helpers import population_over_time

population_over_time(COUNTRY_CODE, color=COLOR)
```
---

```{python}
#| echo: false
#| fig-align: left
#| fig-width: 1
#| fig-cap: "Age Distribution"

from helpers import plot_ages_new

plot_ages_new(COUNTRY_CODE, color=COLOR)
```

:::

::::